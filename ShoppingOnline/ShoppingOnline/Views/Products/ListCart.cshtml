@{
    ViewData["Title"] = "ListCart";
 
}

<div class="list-cart">
    <table class="cart">
        <tr>
            <th>STT</th>
            <th>Title</th>
            <th>Image</th>
            <th>Quantity</th>
            <th>Price</th>
            <th>Total Price</th>            
            <th>Delete</th>
        </tr>
            @{
                int STT = 0;
                decimal thanhtien = 0;
                foreach (var item in ViewBag.carts)
                {                    
                    STT++;                    
                decimal total = item.Product.Price * item.Quantity;
                thanhtien += total;                
                <tr>
                    <td>@STT</td>
                    <td>@item.Product.Name</td>
                    <td><img src="@item.Product.ImageUrl" width="100" height="100" /></td>
                    <td class="text-center">
                    <a class="btnQty btn-default" asp-controller="Products"
                    asp-action="decreaseQuantity" asp-route-id="@item.Product.Id"><b>-   </b</a>                      
                    <a>    @item.Quantity</a>          
                    <a class="btnQty btn-default" asp-controller="Products"
                    asp-action="increaseQuantity" asp-route-id="@item.Product.Id"><b>+</b></a>
                    </td>
                    
                    <td>@item.Product.Price</td>
                    <td>@total</td>   
                    <td><a asp-controller="Products" asp-action="deleteCart" asp-route-id="@item.Product.Id" class="btn btn-danger">Delete</a></td>
                </tr>
            }
            <tr>
          <td colspan="6" class="text-right">Total price</td>
          <td>$@(thanhtien.ToString("n0"))</td>          
      </tr>            
    }
    </table>
    <a asp-controller="Products" asp-action="Index" class="btn mt-3">Continue Shopping</a>
    <a asp-controller="Products" asp-action="Checkout" class="btn mt-3">Checkout</a>                  
</div>






